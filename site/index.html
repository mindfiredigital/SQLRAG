
<!doctype html>
<html lang="en" class="no-js">
  <head>

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">





        <link rel="next" href="about/">


      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.38">



        <title>SQLRAG</title>



      <link rel="stylesheet" href="assets/stylesheets/main.8c3ca2c6.min.css">












        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>



      <link rel="stylesheet" href="assets/_mkdocstrings.css">

    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>






  </head>


    <body dir="ltr">


    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">


        <a href="#sqlrag" class="md-skip">
          Skip to content
        </a>

    </div>
    <div data-md-component="announce">

    </div>






<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="SQLRAG" class="md-header__button md-logo" aria-label="SQLRAG" data-md-component="logo">


  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">

      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SQLRAG
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">

              Home

          </span>
        </div>
      </div>
    </div>


      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>




  </nav>

</header>

    <div class="md-container" data-md-component="container">






      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">



              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="SQLRAG" class="md-nav__button md-logo" aria-label="SQLRAG" data-md-component="logo">


  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    SQLRAG
  </label>

  <ul class="md-nav__list" data-md-scrollfix>









    <li class="md-nav__item md-nav__item--active">

      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">





        <label class="md-nav__link md-nav__link--active" for="__toc">


  <span class="md-ellipsis">
    Home
  </span>


          <span class="md-nav__icon md-icon"></span>
        </label>

      <a href="." class="md-nav__link md-nav__link--active">


  <span class="md-ellipsis">
    Home
  </span>


      </a>



<nav class="md-nav md-nav--secondary" aria-label="Table of contents">






    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>

        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      Features
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Started
    </span>
  </a>

    <nav class="md-nav" aria-label="Getting Started">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>

    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#for-open-source-models" class="md-nav__link">
    <span class="md-ellipsis">
      For Open-Source Models
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#for-openai-models" class="md-nav__link">
    <span class="md-ellipsis">
      For OpenAI Models
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#redis-caching" class="md-nav__link">
    <span class="md-ellipsis">
      Redis Caching
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#api-hosting" class="md-nav__link">
    <span class="md-ellipsis">
      API Hosting
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    <span class="md-ellipsis">
      Contributing
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      License
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#acknowledgments" class="md-nav__link">
    <span class="md-ellipsis">
      Acknowledgments
    </span>
  </a>

</li>

    </ul>

</nav>

    </li>









    <li class="md-nav__item">
      <a href="about/" class="md-nav__link">


  <span class="md-ellipsis">
    About
  </span>


      </a>
    </li>



  </ul>
</nav>
                  </div>
                </div>
              </div>



              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">






    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>

        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      Features
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Started
    </span>
  </a>

    <nav class="md-nav" aria-label="Getting Started">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>

    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">

          <li class="md-nav__item">
  <a href="#for-open-source-models" class="md-nav__link">
    <span class="md-ellipsis">
      For Open-Source Models
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#for-openai-models" class="md-nav__link">
    <span class="md-ellipsis">
      For OpenAI Models
    </span>
  </a>

</li>

          <li class="md-nav__item">
  <a href="#redis-caching" class="md-nav__link">
    <span class="md-ellipsis">
      Redis Caching
    </span>
  </a>

</li>

      </ul>
    </nav>

</li>

        <li class="md-nav__item">
  <a href="#api-hosting" class="md-nav__link">
    <span class="md-ellipsis">
      API Hosting
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    <span class="md-ellipsis">
      Contributing
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      License
    </span>
  </a>

</li>

        <li class="md-nav__item">
  <a href="#acknowledgments" class="md-nav__link">
    <span class="md-ellipsis">
      Acknowledgments
    </span>
  </a>

</li>

    </ul>

</nav>
                  </div>
                </div>
              </div>



            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">




<h1 id="sqlrag">SQLRAG</h1>
<p><img src="./OpenRAGLogo.png" alt="Project Logo" width="100" height="auto"></p>
<p>SQLRAG allows users to query databases using natural language and receive results as SQL code and beautiful visualizations. Powered by Large Language Models (LLMs), SQLRAG supports both OpenAI models and open-source alternatives from GPT4All. Additionally, Redis caching is employed for optimized performance, and users can choose between CPU and GPU processing for open-source models.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#SQLRAG">SQLRAG</a></li>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#description">Description</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#getting-started">Getting Started</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#installation">Installation</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a></li>
<li><a href="#api-hosting">API Hosting</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
<li><a href="#acknowledgments">Acknowledgments</a></li>
</ul>
<h2 id="description">Description</h2>
<p>SQLRAG is a Python package that lets users query their databases using simple natural language prompts. SQLRAG translates these prompts into SQL, executes the queries, and returns results as SQL code, data, and visualizations using either Matplotlib or Chart.js. It supports both open-source LLMs from GPT4All and paid models like OpenAI, giving users flexibility in model choice.</p>
<p>Redis caching is used to speed up responses for repeated queries, and users can opt for GPU processing with open-source models for faster execution.</p>
<h2 id="features">Features</h2>
<ul>
<li><strong>Natural Language Queries</strong>: Input your queries in plain language, and SQLRAG will convert them into SQL statements.</li>
<li><strong>Data Visualization</strong>: Generate charts using Python's Matplotlib or JavaScript's Chart.js.</li>
<li><strong>Model Flexibility</strong>: Supports both OpenAI models and open-source alternatives like GPT4All.</li>
<li><strong>Redis Caching</strong>: Improves response times for repeated queries by caching previous results.</li>
<li><strong>Supports CPU and GPU</strong>: Open-source models can run on both CPU and GPU, providing performance flexibility.</li>
</ul>
<h2 id="getting-started">Getting Started</h2>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Python 3.10 or higher</li>
<li>A compatible database (PostgreSQL, MySQL, SQLite, etc.)</li>
<li>Redis for caching (optional but recommended)</li>
<li>An OpenAI API key (if using OpenAI models)</li>
</ul>
<h3 id="installation">Installation</h3>
<p>SQLRAG is distributed as a Python package and can be installed via <code>pip</code>.</p>
<ol>
<li><strong>Install the package:</strong></li>
</ol>
<p><code>bash
   pip install sqlrag</code></p>
<ol>
<li><strong>Set environment variables (if using OpenAI):</strong></li>
</ol>
<p><code>bash
   export OPENAI_API_KEY=your_openai_key</code></p>
<p>That's it! Now you’re ready to use SQLRAG.</p>
<h2 id="usage">Usage</h2>
<h3 id="for-open-source-models">For Open-Source Models</h3>
<p>You can use open-source models from GPT4All with SQLRAG. Here's how:</p>
<pre><code class="language-python">from sqlrag.open_sql_rag import OpenSQLRAG

# Initialize SQLRAG with your database and model
sql_rag = OpenSQLRAG(&quot;sqlite:///mydb.db&quot;, model_name=&quot;Meta-Llama-3-8B-Instruct.Q4_0.gguf&quot;, is_openai=False)

# Generate SQL code and a chart
data = sql_rag.generate_code_and_sql({&quot;chart_type&quot;: &quot;chart.js&quot;, &quot;query&quot;: &quot;List out all customers&quot;})

# Output the generated SQL code and data
print(data)

# Check available open-source models and supported GPUs
print(sql_rag.get_open_source_models())
print(sql_rag.get_gpus_list())
</code></pre>
<h3 id="for-openai-models">For OpenAI Models</h3>
<p>If you have an OpenAI API key, you can use OpenAI models with SQLRAG as follows:</p>
<pre><code class="language-python">from sqlrag.open_sql_rag import OpenSQLRAG

# Initialize SQLRAG with your database (OpenAI by default)
sql_rag = OpenSQLRAG(&quot;sqlite:///mydb.db&quot;)

# Generate SQL code and a chart
data = sql_rag.generate_code_and_sql({&quot;chart_type&quot;: &quot;chart.js&quot;, &quot;query&quot;: &quot;List out all customers&quot;})

# Output the generated SQL code and data
print(data)
</code></pre>
<h3 id="redis-caching">Redis Caching</h3>
<p>SQLRAG automatically uses Redis to cache results of frequently used queries, speeding up the response time for repeated requests.</p>
<h2 id="api-hosting">API Hosting</h2>
<p>While SQLRAG is primarily a Python package, you can also expose it as an API if desired. However, it’s primarily designed for use as a Python library for direct database querying and data visualization.</p>
<h2 id="contributing">Contributing</h2>
<p>We welcome contributions to SQLRAG! Whether it's reporting bugs, submitting features, or writing documentation, feel free to open a pull request or issue. See <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> for more details.</p>
<h2 id="license">License</h2>
<p>SQLRAG is licensed under the MIT License. See <a href="LICENSE.md">LICENSE.md</a> for further information.</p>
<h2 id="acknowledgments">Acknowledgments</h2>
<p>Special thanks to the developers of GPT4All, OpenAI, and Redis for their open-source contributions. Their work has made this project possible.</p>













              </article>
            </div>


<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>

      </main>

        <footer class="md-footer">

  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">


    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>

</div>

    </div>
  </div>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>


    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>


      <script src="assets/javascripts/bundle.d6f25eb3.min.js"></script>


  </body>
</html>
